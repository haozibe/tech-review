### OSI七层网络架构

- 物理层 IEEE 802.1A IEEE 802.2到IEEE 802.11
- 链路层 Ethernet、FDDI、Arpanet、PDN、SLIP、PPP
- 网络层 IP、ICMP、ARP、RARP、UUCP
- 传输层 TCP、UDP
- 会话层 SMTP、DNS
- 表示层 Telnet、Rlogin、SNMP、Gopher
- 应用层   HTTP、FTP、SMTP、NFS

![img](https://img2018.cnblogs.com/blog/1605493/201903/1605493-20190312104714993-1455348835.png)

### 五层网络TCP/IP架构

- 物理层 IEEE 802.1A IEEE 802.2到IEEE 802.11
- 链路层 Ethenet、FDDI、Arpanet、PDN、SLIP、PPP
- 网络层 IP、ICMP、ARP、RARP、AKP、UUCP
- 传输层 TCP、UDP
- 应用层 HTTP、FTP、SMTP、NFS



## TCP

### 三次握手和四次挥手

#### 三次握手

重要的字段

- 序号  SEQ序号，占32位，用来表示源端到目的端发送的字节流，发起方发送数据时对此进行标记。
- 确认号 占32位，只有当ACK标示位为1时，确认号才有效，值为seq+1
- 标志位 URG PSH FIN ACK SYN RST

![img](https://pics1.baidu.com/feed/d8f9d72a6059252d20d93b0a6645fb3e59b5b9d2.jpeg?token=c86d4509157378798ebbccbe843486d1&s=9746F8123F5754CA48D574DA0300D0B2)



![img](https://pic.rmb.bdstatic.com/861fa058f2da35f8efa70b29bf7c45fd8689.gif)

### 泛洪攻击(SYN FLOOD)



### 校验和



### 确认应答+序列号



### 超时重传

#### 没有接受到响应的ack报文原因

### 流量控制



### 拥塞控制



### 滑动窗口



### 慢启动算法



### 浏览器域名访问过程

1. 走本地DNS，解析IP地址，跟本地IP地址转换成二进制，与运算是否属于子网。
2. 封包、http包、tcp包、ip包、以太网包，源ip和目的ip到包头。
3. 网络交换机发送到网关，多次网关转发到百度的ip，包有序号。



## UDP







## Http

### Http状态码

- 1xx 开头 请求的中间状态
- 2xx 开头 
  - 200 标识服务端返回成功
  - 201 标识服务端返回无body的成功  
  - 206 用于断点续传 表示返回成功 返回部分资源
- 3xx 开头 重定向
  -  301 永久重定向，原来的资源地址已不可以
  -  302 临时重定向 原来的资源地址可用
  -  304 缓存重定向
- 4xx 开头
  - 400 客户端请求报文错误
  - 403 forbidden 服务器禁止访问资源
  - 404 客户端请求资源不存在
- 5xx 开头
  - 500 服务端内部异常。
  - 501 服务端未实现该服务。
  - 502 错误网关，用于有代理转发，代理服务器正常但是转发的服务异常。
  - 503 服务正忙，请稍后再试，用于限流时返回。

#### 浏览器输入url如何得到页面

- 客户端根据域名查找对应的IP地址
- 客户端根据IP地址与服务器建立连接
- 客户端与服务器通信
- 客户端与服务器断开链接





### Http1.0

只有GET，POST，HEAD请求

每次请求都需要重新创建TCP连接

### Http1.1

#### 跟http1.0区别

![img](https://img-blog.csdn.net/20180727162357172)

### Http2.0

#### 优先级

每个http2.0的请求都会带有一个优先级，但不会绝对的准守，以避免发生首队堵塞的问题。http2.0将请求的流按照不同的优先级策略进行处理，优先级高的优先进行响应。

#### 二进制分帧层

在应用层和传输层之间插入一层二进制分帧层，在不改变http请求语义的同时，把所有传输消息分割成更小帧，其中头信息封装到headers帧，requestbody中的信息封装到data帧。

#### 头消息压缩

客户端和服务端同时维护一份头信息表，进行请求时可以不需要带上所有的头信息，只需要将头信息表对应的索引传输过去即可。

#### 多路复用

允许多个请求共用一个TCP连接，且不需要严格按照请求的顺序进行响应。

![img](https://img-blog.csdn.net/2018072716254963)

#### 服务端主动推送响应到客户端



![img](https://img-blog.csdn.net/20180727162739395)

